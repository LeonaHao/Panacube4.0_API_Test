2021-12-23 09:44:01,450 - root - INFO - **********************************************开始setupClass，进行登录**********************************************
2021-12-23 09:44:13,097 - root - INFO - the sql is : select d.id as diskId, d.name as diskName, d.size as diskSize, d.status as diskStatus,             i.id as vmId, i.name as vmName, i.status as vmStatus, p.id as projectId, p.name as projectName              from  disk d LEFT JOIN cloud_instance i on i.project_id=d.pool_id INNER JOIN cloud_pool p on p.id=d.pool_id           where i.status in (1,3) and d.store_type=0 and d.status=1 and p.id=%s ORDER BY d.create_time desc limit 1;
2021-12-23 09:44:13,099 - root - INFO - the params is : 3adfec2c1f044e98a41e6c3649651dc8
2021-12-23 09:44:13,101 - root - INFO - the result data is :{'diskId': '1fb12381-3b05-43d6-8d36-6416a9faa282', 'diskName': 'CloudDisk4Detach', 'diskSize': 1024, 'diskStatus': 1, 'vmId': 'ins-7dbf6f4acabb4a8d9091e32994355f68', 'vmName': 'LC1', 'vmStatus': 1, 'projectId': '3adfec2c1f044e98a41e6c3649651dc8', 'projectName': 'LeonaTestPool1220'}
2021-12-23 09:44:13,677 - root - INFO - ********************************************************************************
2021-12-23 09:44:13,678 - root - INFO - ****************卸载数据盘列表接口开始****************
2021-12-23 09:44:13,678 - root - INFO - *******测试案例名称： TestCase001_卸载数据盘-缺少token 执行开始********
2021-12-23 09:44:13,678 - root - INFO - *******测试数据： {'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-23 09:44:13,687 - root - INFO - *******返回数据： {'code': 1005, 'message': '缺少认证信息', 'data': None, 'level': 3}
2021-12-23 09:44:16,696 - root - INFO - *******测试案例名称： TestCase001_卸载数据盘-缺少token 执行完毕********
2021-12-23 09:44:16,696 - root - INFO - ****************卸载数据盘列表接口结束****************
2021-12-23 09:44:16,697 - root - INFO - ********************************************************************************
2021-12-23 09:44:16,699 - root - INFO - ********************************************************************************
2021-12-23 09:44:16,700 - root - INFO - ****************卸载数据盘列表接口开始****************
2021-12-23 09:44:16,700 - root - INFO - *******测试案例名称： TestCase002_卸载数据盘-instance为空 执行开始********
2021-12-23 09:44:16,700 - root - INFO - *******测试数据： {'instance': [''], 'action': 'detach', 'volume': 'bde97a16-23f7-467d-b4ef-e1465389bde5', 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-23 09:44:16,719 - root - INFO - *******返回数据： {'code': 1001, 'message': '请求参数错误', 'data': None, 'level': 2}
2021-12-23 09:44:19,732 - root - INFO - *******测试案例名称： TestCase002_卸载数据盘-instance为空 执行完毕********
2021-12-23 09:44:19,732 - root - INFO - ****************卸载数据盘列表接口结束****************
2021-12-23 09:44:19,733 - root - INFO - ********************************************************************************
2021-12-23 09:44:19,735 - root - INFO - ********************************************************************************
2021-12-23 09:44:19,736 - root - INFO - ****************卸载数据盘列表接口开始****************
2021-12-23 09:44:19,736 - root - INFO - *******测试案例名称： TestCase003_卸载数据盘-volume为空 执行开始********
2021-12-23 09:44:19,736 - root - INFO - *******测试数据： {'instance': ['ins-4b28fa544833425ebcff74ad3c1fb618'], 'action': 'detach', 'volume': '', 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-23 09:44:19,760 - root - INFO - *******返回数据： {'code': 1001, 'message': '请求参数错误', 'data': None, 'level': 2}
2021-12-23 09:44:22,767 - root - INFO - *******测试案例名称： TestCase003_卸载数据盘-volume为空 执行完毕********
2021-12-23 09:44:22,768 - root - INFO - ****************卸载数据盘列表接口结束****************
2021-12-23 09:44:22,768 - root - INFO - ********************************************************************************
2021-12-23 09:44:22,771 - root - INFO - ********************************************************************************
2021-12-23 09:44:22,772 - root - INFO - ****************卸载数据盘列表接口开始****************
2021-12-23 09:44:22,772 - root - INFO - *******测试案例名称： TestCase004_卸载数据盘-成功 执行开始********
2021-12-23 09:44:22,773 - root - INFO - *******测试数据： {'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'action': 'detach', 'volume': '1fb12381-3b05-43d6-8d36-6416a9faa282', 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-23 09:44:23,257 - root - INFO - *******返回数据： {'code': 0, 'message': 'success', 'data': None}
2021-12-23 09:44:26,259 - root - INFO - *******测试案例名称： TestCase004_卸载数据盘-成功 执行完毕********
2021-12-23 09:44:26,259 - root - INFO - ****************卸载数据盘列表接口结束****************
2021-12-23 09:44:26,260 - root - INFO - ********************************************************************************
2021-12-23 09:44:26,262 - root - INFO - ********************************************************************************
2021-12-23 09:44:26,263 - root - INFO - ****************卸载数据盘列表接口开始****************
2021-12-23 09:44:26,263 - root - INFO - *******测试案例名称： TestCase005_卸载数据盘-重复卸载-失败 执行开始********
2021-12-23 09:44:26,263 - root - INFO - *******测试数据： {'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'action': 'detach', 'volume': '1fb12381-3b05-43d6-8d36-6416a9faa282', 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-23 09:44:26,402 - root - INFO - *******返回数据： {'code': 214028, 'message': '非已加载状态下云硬盘不可卸载', 'data': None, 'level': 3}
2021-12-23 09:44:29,416 - root - INFO - *******测试案例名称： TestCase005_卸载数据盘-重复卸载-失败 执行完毕********
2021-12-23 09:44:29,416 - root - INFO - ****************卸载数据盘列表接口结束****************
2021-12-23 09:44:29,417 - root - INFO - ********************************************************************************
2021-12-23 09:44:29,611 - root - INFO - **********************************************完成teardown class，退出登录**********************************************
