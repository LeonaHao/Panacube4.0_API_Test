2021-12-22 17:42:59,196 - root - INFO - **********************************************开始setupClass，进行登录**********************************************
2021-12-22 17:43:11,210 - root - INFO - the sql is : select d.id as diskId, d.name as diskName, d.size as diskSize, d.status as diskStatus,             i.id as vmId, i.name as vmName, i.status as vmStatus, p.id as projectId, p.name as projectName              from  disk d LEFT JOIN cloud_instance i on i.project_id=d.pool_id INNER JOIN cloud_pool p on p.id=d.pool_id           where i.status in (1,3) and d.store_type=0 and d.status=1 and p.id=%s ORDER BY d.create_time desc limit 1;
2021-12-22 17:43:11,212 - root - INFO - the params is : 3adfec2c1f044e98a41e6c3649651dc8
2021-12-22 17:43:11,215 - root - INFO - the result data is :{'diskId': '2cd31d9c-6a9f-4c48-8738-1d9b6f12f22b', 'diskName': 'CloudDisk4CI1', 'diskSize': 1024, 'diskStatus': 1, 'vmId': 'ins-7dbf6f4acabb4a8d9091e32994355f68', 'vmName': 'LC1', 'vmStatus': 1, 'projectId': '3adfec2c1f044e98a41e6c3649651dc8', 'projectName': 'LeonaTestPool1220'}
2021-12-22 17:43:11,216 - root - INFO - ********************************************************************************
2021-12-22 17:43:11,217 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:11,217 - root - INFO - *******测试案例名称： TestCase001_加载数据盘-volume为空 执行开始********
2021-12-22 17:43:11,217 - root - INFO - *******测试数据： {'volume': '', 'action': 'attach', 'path': '', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:11,238 - root - INFO - *******返回数据： {'code': 1001, 'message': '请求参数错误', 'data': None, 'level': 2}
2021-12-22 17:43:11,238 - root - INFO - *******测试案例名称： TestCase001_加载数据盘-volume为空 执行完毕********
2021-12-22 17:43:11,238 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:16,243 - root - INFO - ********************************************************************************
2021-12-22 17:43:16,246 - root - INFO - ********************************************************************************
2021-12-22 17:43:16,246 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:16,246 - root - INFO - *******测试案例名称： TestCase002_加载数据盘-Path为空 执行开始********
2021-12-22 17:43:16,247 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:16,458 - root - INFO - *******返回数据： {'code': 1001, 'message': '请求参数错误', 'data': None, 'level': 2}
2021-12-22 17:43:16,458 - root - INFO - *******测试案例名称： TestCase002_加载数据盘-Path为空 执行完毕********
2021-12-22 17:43:16,458 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:21,473 - root - INFO - ********************************************************************************
2021-12-22 17:43:21,476 - root - INFO - ********************************************************************************
2021-12-22 17:43:21,476 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:21,477 - root - INFO - *******测试案例名称： TestCase003_加载数据盘-Path为特殊字符 执行开始********
2021-12-22 17:43:21,477 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '/mnt/￥%……￥%……', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:21,677 - root - INFO - *******返回数据： {'code': 214017, 'message': '云硬盘挂载路径不合法', 'data': None, 'level': 3}
2021-12-22 17:43:21,677 - root - INFO - *******测试案例名称： TestCase003_加载数据盘-Path为特殊字符 执行完毕********
2021-12-22 17:43:21,677 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:26,683 - root - INFO - ********************************************************************************
2021-12-22 17:43:26,686 - root - INFO - ********************************************************************************
2021-12-22 17:43:26,686 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:26,686 - root - INFO - *******测试案例名称： TestCase003_加载数据盘-Volume不存在 执行开始********
2021-12-22 17:43:26,687 - root - INFO - *******测试数据： {'volume': 'c1111111-1111-1111-1111-111111111111', 'action': 'attach', 'path': '/mnt/￥%……￥%……', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:26,716 - root - INFO - *******返回数据： {'code': 1, 'message': '服务异常', 'data': None, 'level': 1}
2021-12-22 17:43:26,716 - root - INFO - ********************************************************************************
2021-12-22 17:43:26,794 - root - INFO - ********************************************************************************
2021-12-22 17:43:26,795 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:26,795 - root - INFO - *******测试案例名称： TestCase004_加载数据盘-Path>128 执行开始********
2021-12-22 17:43:26,796 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '/mnt/test1/test2/test3/test4/test5/test6/test7/test8/test9/test10/test11/test12/test13/test13/test14/test15/test16/test17/test18/test19', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:26,964 - root - INFO - *******返回数据： {'code': 214026, 'message': '云硬盘挂载路径过长', 'data': None, 'level': 3}
2021-12-22 17:43:26,964 - root - INFO - *******测试案例名称： TestCase004_加载数据盘-Path>128 执行完毕********
2021-12-22 17:43:26,964 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:31,973 - root - INFO - ********************************************************************************
2021-12-22 17:43:31,976 - root - INFO - ********************************************************************************
2021-12-22 17:43:31,976 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:31,976 - root - INFO - *******测试案例名称： TestCase005_加载数据盘-Path=128 执行开始********
2021-12-22 17:43:31,977 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '/mnt/test1/test2/test3/test4/test5/test6/test7/test8/test9/test10/test11/test12/test13/test13/test14/test15/test16/test17/test18/AAA', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:32,359 - root - INFO - *******返回数据： {'code': 0, 'message': 'success', 'data': None}
2021-12-22 17:43:32,359 - root - INFO - *******测试案例名称： TestCase005_加载数据盘-Path=128 执行完毕********
2021-12-22 17:43:32,359 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:37,374 - root - INFO - ********************************************************************************
2021-12-22 17:43:37,377 - root - INFO - ********************************************************************************
2021-12-22 17:43:37,377 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:37,378 - root - INFO - *******测试案例名称： TestCase006_加载数据盘-同一路径重复加载-Path=128 执行开始********
2021-12-22 17:43:37,378 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '/mnt/test1/test2/test3/test4/test5/test6/test7/test8/test9/test10/test11/test12/test13/test13/test14/test15/test16/test17/test18/AAA', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:37,557 - root - INFO - *******返回数据： {'code': 214001, 'message': '云硬盘已加载', 'data': None, 'level': 3}
2021-12-22 17:43:37,558 - root - INFO - *******测试案例名称： TestCase006_加载数据盘-同一路径重复加载-Path=128 执行完毕********
2021-12-22 17:43:37,558 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:42,559 - root - INFO - ********************************************************************************
2021-12-22 17:43:42,562 - root - INFO - ********************************************************************************
2021-12-22 17:43:42,562 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:42,563 - root - INFO - *******测试案例名称： TestCase007_加载数据盘-同一路径重复加载-Path=128 执行开始********
2021-12-22 17:43:42,563 - root - INFO - *******测试数据： {'volume': 'c7735672-0232-42a2-9838-bb0e8cfe4a7b', 'action': 'attach', 'path': '/mnt/test1/test2/test3/test4/test5/test6/test7/test8/test9/test10/test11/test12/test13/test13/test14/test15/test16/test17/test18/AAA', 'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:42,576 - root - INFO - the sql is : select d.id as diskId, d.name as diskName, d.size as diskSize, d.status as diskStatus,             i.id as vmId, i.name as vmName, i.status as vmStatus, p.id as projectId, p.name as projectName              from  disk d LEFT JOIN cloud_instance i on i.project_id=d.pool_id INNER JOIN cloud_pool p on p.id=d.pool_id           where i.status in (1,3) and d.store_type=0 and d.status=1 and p.id=%s ORDER BY d.create_time desc limit 1;
2021-12-22 17:43:42,576 - root - INFO - the params is : 3adfec2c1f044e98a41e6c3649651dc8
2021-12-22 17:43:42,578 - root - INFO - the result data is :{'diskId': '45b64a18-022a-40a9-91dc-ce580e9ace91', 'diskName': 'CloudDisk4CI1', 'diskSize': 1024, 'diskStatus': 1, 'vmId': 'ins-fd16fc23a64b4ca99f67aefe2f6f0572', 'vmName': 'LC_499', 'vmStatus': 1, 'projectId': '3adfec2c1f044e98a41e6c3649651dc8', 'projectName': 'LeonaTestPool1220'}
2021-12-22 17:43:43,076 - root - INFO - *******返回数据： {'code': 214021, 'message': '同一挂载路径不能加载多块云硬盘', 'data': None, 'level': 3}
2021-12-22 17:43:43,076 - root - INFO - *******测试案例名称： TestCase007_加载数据盘-同一路径重复加载-Path=128 执行完毕********
2021-12-22 17:43:43,076 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:48,090 - root - INFO - ********************************************************************************
2021-12-22 17:43:48,093 - root - INFO - ********************************************************************************
2021-12-22 17:43:48,093 - root - INFO - ****************加载数据盘列表接口开始****************
2021-12-22 17:43:48,094 - root - INFO - *******测试案例名称： TestCase008_加载数据盘-缺少token 执行开始********
2021-12-22 17:43:48,094 - root - INFO - *******测试数据： {'instance': ['ins-7dbf6f4acabb4a8d9091e32994355f68'], 'project_id': '3adfec2c1f044e98a41e6c3649651dc8', 'project_name': 'LeonaTestPool1220'}
2021-12-22 17:43:48,103 - root - INFO - *******返回数据： {'code': 1005, 'message': '缺少认证信息', 'data': None, 'level': 3}
2021-12-22 17:43:48,103 - root - INFO - *******测试案例名称： TestCase008_加载数据盘-缺少token 执行完毕********
2021-12-22 17:43:48,103 - root - INFO - ****************加载数据盘列表接口结束****************
2021-12-22 17:43:53,107 - root - INFO - ********************************************************************************
2021-12-22 17:43:53,842 - root - INFO - **********************************************完成teardown class，退出登录**********************************************
